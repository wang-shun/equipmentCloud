webpackJsonp([19],{cTvc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("cAgV"),a=i("504h"),r=i.n(a),s=i("VVDx"),o=i.n(s),l=i("ZjsX"),c=i("7t+N"),u=i.n(c),d=JSON.parse(sessionStorage.getItem("dwbbList"));o()(r.a);var p=r.a.getOptions().exporting.buttons.contextButton.menuItems,y=sessionStorage.getItem("token"),f={directives:{waves:n.a},mounted:function(){},data:function(){return{id:"test",data1:[],listQuery:{year:null,unit:""},unitLists:d,bar:{chart:{type:"line"},title:{text:"商品煤月份销售量趋势图"},subtitle:{text:""},xAxis:{categories:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yAxis:{title:{text:"商品煤销售量(t)"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},spline:{marker:{radius:4,lineColor:"#666666",lineWidth:1}}},tooltip:{crosshairs:!0,shared:!0},credits:{enabled:!1},navigation:{buttonOptions:{theme:{style:{color:"#fff"},fill:"#e6a23c",states:{hover:{fill:"#ebb563"}}}}},exporting:{buttons:{contextButton:{enabled:!1},exportButton:{text:"导出",menuItems:[p[0],p[1],p[2],p[3],p[4],p[5]]},printButton:{text:"打印",onclick:function(){this.print()}}}},series:[{name:"",data:[]}]}}},methods:{search:function(){this.getdata()},reset:function(){this.listQuery.year=""},exportExcel:function(){u()("#reportDiv").highCharts().exportChart({exportFormat:"PNG"})},getdata:function(){var t=this,e={q_year:t.listQuery.year,q_dept_code:t.listQuery.unit};Object(l.d)("/v1/spmxstz/listSpmKTrendByYear",{token:y,authorityCode:1},e,function(e){if(console.log(e),200===e.data.status){for(var i=e.data.data,n=[],a=[],s=0;s<i.length;s++)n.push(i[s].yVal),a.push(i[s].xVal);t.bar.series[0].name="商品煤",t.bar.series[0].data=n,t.bar.xAxis.categories=a,r.a.chart(t.id,t.bar)}else t.$notify({title:"系统提示",message:e.data.msg,type:"error",duration:3e3})},function(e){t.listLoading=!1,console.log(e),t.$notify({title:"系统提示",message:"系统错误",type:"error",duration:3e3})})},printContent:function(){var t=document.getElementById("reportDiv").innerHTML,e=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=e}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",[i("div",{staticStyle:{float:"left","margin-right":"10px"}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"year",placeholder:"请选择年度","value-format":"yyyy",format:"yyyy",size:"mini"},model:{value:t.listQuery.year,callback:function(e){t.$set(t.listQuery,"year",e)},expression:"listQuery.year"}})],1),t._v(" "),i("el-select",{attrs:{placeholder:"请选择单位",size:"mini"},model:{value:t.listQuery.unit,callback:function(e){t.$set(t.listQuery,"unit",e)},expression:"listQuery.unit"}},t._l(t.unitLists,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"8px"},attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),i("div",{staticStyle:{float:"right"}})],1),t._v(" "),i("div",{attrs:{id:"reportDiv"}},[i("div",{attrs:{id:t.id,option:t.bar}})])])},staticRenderFns:[]};var v=i("VU/8")(f,m,!1,function(t){i("sLpo")},null,null);e.default=v.exports},sLpo:function(t,e,i){var n=i("uLpN");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("c1638f2e",n,!0)},uLpN:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.highcharts-credits{\r\n  fill: rgba(0, 0,0,0) !important;\n}\r\n",""])}});